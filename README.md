# Foxmetod Test Task – Wallet Service

## Описание проекта

Это тестовое задание реализует сервис переводов средств между пользователями с защитой от Race Condition.  
Проект разработан на **Django 6.0 + Django REST Framework** и демонстрирует правильное использование транзакций, блокировок и идемпотентности.

---

## Функционал

1. **Регистрация и авторизация пользователей** (JWT):
   - POST `/api/token/` – получение access и refresh токенов.

2. **Перевод средств между пользователями**:
   - POST `/api/v1/transfer/` – перевод средств с одного кошелька на другой.
   - Проверка баланса отправителя.
   - Обеспечение атомарности транзакций с помощью `transaction.atomic()`.
   - Блокировка записей кошельков через `select_for_update()` для защиты от Race Condition.
   - Использование `idempotency_key` для предотвращения повторного выполнения одного и того же запроса.

3. **Защита от Race Condition**:
   - Атомарные транзакции гарантируют, что операции выполняются полностью или откатываются.
   - `select_for_update()` предотвращает одновременное списание средств с одного кошелька.
   - `idempotency_key` блокирует повторное выполнение одной и той же транзакции.

